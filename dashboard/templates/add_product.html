{% extends 'dashboard/base.html' %}
{% load static %}
{% block title %}Dashboard - SHISHIR{% endblock title %}
{% block profile %}
<div class="d-flex align-items-center ms-4 mb-4">
    <div class="position-relative">
        <div class="profile_pic">
            <img class="" src="{{profile.avater.url}}" alt="">
        </div>
        <div class="bg-success rounded-circle border border-2 border-white position-absolute end-0 bottom-0 p-1"></div>
    </div>
    <div class="ms-3">
        <h6 class="mb-0">{{profile.user.username}}</h6>
        <span>Admin</span>
    </div>
</div>
{% endblock profile %}
{% block body %}
<style>
    .cke_bottom {
        padding: 6px 8px 2px;
        position: relative;
        border-top: 1px solid #d1d1d1;
        background: #f8f8f8;
        display: none;
    }
</style>
<div class="container-fluid pt-4 px-4">
    <div class="row p-3 bg-secondary rounded align-items-center justify-content-center mx-0">
        <div class="col-md-10">
            <h5>Add your Product</h5>
            <form action="" method="post" class="" enctype="multipart/form-data">
                {% csrf_token %}
                <div class="mb-3">
                    <label for="pd_name" class="form-label">Product Name</label>
                    <input type="text" name="pd_name" class="form-control" id="pd_name" required>
                </div>
                <div class="mb-3">
                    <label for="brand" class="form-label">Brand</label>
                    <input type="text" name="brand" class="form-control" id="brand" required>
                </div>
                <div class="mb-3">
                    <label for="category" class="form-label">Category</label>
                    <input type="text" name="category" class="form-control" id="category" required>
                </div>
                <div class="mb-3">
                    <label for="editor" class="form-label">Description</label>
                    <textarea name="editor-1" id="editor" cols="30" rows="10"></textarea>
                </div>
                <div class="mb-3">
                    <label for="available" class="form-label">Availability</label>
                    <select class="form-select" name="availability" id="available" aria-label="Default select example">
                        <option selected value="available">Available</option>
                        <option value="instock">In Stock</option>
                        <option value="outofstock">Out of Stock</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label for="price" class="form-label">Price</label>
                    <input type="text" name="price" class="form-control" id="price" required>
                </div>
                <div class="mb-3">
                    <label for="images" class="form-label">Product Images: <span style="color:red;font-size:15px;">3 images must be added</span></label>
                    <input type="file" name="productImages" onchange="showImgPreview(event)" class="form-control"
                        id="images" style="background-color: black;" multiple required>
                </div>
                <div class="d-flex justify-content-between">
                    <button id="productbtn" class="btn btn-primary" disabled type="submit">Add Product</button>
                    <a class="ml-2 btn btn-outline-primary" href="/dashboard">X</a>
                </div>
            </form>
        </div>
    </div>
</div>
<script>
    CKEDITOR.replace('editor-1');
    var btn = document.getElementById("productbtn");
    function showImgPreview(event) {
        if (event.target.files.length >= 3) {
            btn.removeAttribute('disabled')
        }
    }

</script>
{% endblock body %}